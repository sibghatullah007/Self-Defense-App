(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{4147:(e,s,t)=>{Promise.resolve().then(t.bind(t,8970))},8970:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),n=t(2115);let o=()=>{let[e,s]=(0,n.useState)(""),[t,o]=(0,n.useState)(!1),i=async()=>{o(!0),s("Testing MongoDB connection...");try{let e=await fetch("/api/test-db"),t=await e.json();e.ok?s("✅ ".concat(t.message)):s("❌ Connection failed: ".concat(t.error,"\nDetails: ").concat(t.details))}catch(e){s("❌ Error: ".concat(e))}finally{o(!1)}},c=async()=>{o(!0),s("Testing registration...");try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Test User",email:"test@example.com",phoneNumber:"123-456-7890",password:"password123"})}),t=await e.json();e.ok?s("✅ Registration successful! User ID: ".concat(t.user.id)):s("❌ Registration failed: ".concat(t.error))}catch(e){s("❌ Error: ".concat(e))}finally{o(!1)}},r=async()=>{o(!0),s("Testing login...");try{let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"password123"})}),t=await e.json();e.ok?s("✅ Login successful! Welcome ".concat(t.user.name)):s("❌ Login failed: ".concat(t.error))}catch(e){s("❌ Error: ".concat(e))}finally{o(!1)}};return(0,a.jsx)("div",{className:"container max-w-md mx-auto py-12 px-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Database Test"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"Test MongoDB connection and API endpoints"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("button",{onClick:i,disabled:t,className:"w-full bg-gray-500 text-white py-2 px-4 rounded hover:bg-gray-600 disabled:opacity-50",children:t?"Testing...":"Test MongoDB Connection"}),(0,a.jsx)("button",{onClick:c,disabled:t,className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 disabled:opacity-50",children:t?"Testing...":"Test Registration"}),(0,a.jsx)("button",{onClick:r,disabled:t,className:"w-full bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 disabled:opacity-50",children:t?"Testing...":"Test Login"})]}),e&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Test Result:"}),(0,a.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:e})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Check the browser console and server logs for detailed information."}),(0,a.jsxs)("p",{className:"mt-2",children:[(0,a.jsx)("strong",{children:"Current MongoDB URI:"})," mongodb://localhost:27017/empower-safety"]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(4147)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{283:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,O:()=>i});var s=r(5155),a=r(2115),o=r(6671);let n=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,a.useState)(null),[c,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("user");if(e&&"undefined"!==e&&"null"!==e){let t=JSON.parse(e);i(t)}}catch(e){console.error("Error parsing stored user:",e),localStorage.removeItem("user")}finally{l(!1)}},[]);let d=async(e,t,r,s,a)=>{l(!0);try{let n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,phoneNumber:r,password:s})}),c=await n.json();if(!n.ok)return void o.oR.error(c.error||"Registration failed. Please try again.");i(c.user),localStorage.setItem("user",JSON.stringify(c.user)),o.oR.success("Registration successful!"),a&&a()}catch(e){console.error("Registration error:",e),o.oR.error("Unable to connect to server. Please try again.")}finally{l(!1)}},u=async(e,t,r)=>{l(!0);try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();if(!s.ok)return void o.oR.error(a.error||"Login failed. Please check your credentials.");i(a.user),localStorage.setItem("user",JSON.stringify(a.user)),o.oR.success("Welcome back, ".concat(a.user.name,"!")),r&&r()}catch(e){console.error("Login error:",e),o.oR.error("Unable to connect to server. Please try again.")}finally{l(!1)}},h=async e=>{if(r)try{let t=await fetch("/api/emergency-contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id,...e})}),s=await t.json();if(!t.ok)return void o.oR.error(s.error||"Failed to add contact");let a=[...r.emergencyContacts||[],s.contact],n={...r,emergencyContacts:a};i(n),localStorage.setItem("user",JSON.stringify(n)),o.oR.success("Emergency contact added successfully")}catch(e){o.oR.error("Failed to add contact")}},y=async e=>{if(r)try{let t=await fetch("/api/emergency-contact",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r.id,contactId:e})}),s=await t.json();if(!t.ok)return void o.oR.error(s.error||"Failed to remove contact");let a=(r.emergencyContacts||[]).filter(t=>t.id!==e),n={...r,emergencyContacts:a};i(n),localStorage.setItem("user",JSON.stringify(n)),o.oR.success("Emergency contact removed")}catch(e){o.oR.error("Failed to remove contact")}},f=async e=>{l(!0);try{await new Promise(e=>setTimeout(e,1e3)),o.oR.success("Password reset link sent to your email")}catch(e){throw o.oR.error(e instanceof Error?e.message:"Password reset failed"),e}finally{l(!1)}};return(0,s.jsx)(n.Provider,{value:{user:r,isLoading:c,isAuthenticated:!!r,register:d,login:u,logout:()=>{i(null),localStorage.removeItem("user"),o.oR.success("You have been logged out")},addEmergencyContact:h,removeEmergencyContact:y,resetPassword:f},children:t})},c=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var s=r(5155),a=r(2115),o=r(9708),n=r(2085),i=r(9434);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:l=!1,...d}=e,u=l?o.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:a,size:n,className:r})),ref:t,...d})});l.displayName="Button"},2318:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},3162:(e,t,r)=>{Promise.resolve().then(r.bind(r,5372))},5372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5155),a=r(285),o=r(9946);let n=(0,o.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),i=(0,o.A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),c=(0,o.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),l=(0,o.A)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var d=r(5525),u=r(2318),h=r(283),y=r(5695);let f=()=>{let e=(0,y.useRouter)(),{isAuthenticated:t}=(0,h.A)(),r=[{title:"Emergency SOS",description:"Send alerts with your location to trusted contacts with one tap.",icon:(0,s.jsx)(n,{className:"h-10 w-10 text-safety-blue"}),path:t?"/sos":"/register"},{title:"Self-Defense Tutorials",description:"Learn practical self-defense techniques through video tutorials.",icon:(0,s.jsx)(i,{className:"h-10 w-10 text-safety-blue"}),path:"/self-defense"},{title:"Incident Reporting",description:"Report incidents and access resources tailored to your situation.",icon:(0,s.jsx)(c,{className:"h-10 w-10 text-safety-blue"}),path:"/report"},{title:"Safety Resources Map",description:"Find nearby safety resources, support services, and shelters.",icon:(0,s.jsx)(l,{className:"h-10 w-10 text-safety-blue"}),path:"/resources"}];return(0,s.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,s.jsx)("section",{className:"bg-gradient-to-b from-blue-50 to-white py-20",children:(0,s.jsx)("div",{className:"container px-4 mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[(0,s.jsxs)("div",{className:"lg:w-1/2 space-y-6",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-safety-dark",children:"Your Personal Safety Network"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"Empower yourself with tools to enhance your safety. Connect with trusted contacts, learn self-defense techniques, and access resources when you need them most."}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(a.$,{size:"lg",onClick:()=>e.push(t?"/profile":"/register"),children:t?"Go to Dashboard":"Get Started"}),(0,s.jsx)(a.$,{variant:"outline",size:"lg",onClick:()=>e.push("/resources"),children:"Explore Resources"})]})]}),(0,s.jsx)("div",{className:"lg:w-1/2 flex justify-center",children:(0,s.jsx)("div",{className:"bg-safety-blue/10 p-8 rounded-full",children:(0,s.jsx)(d.A,{className:"h-40 w-40 text-safety-blue"})})})]})})}),(0,s.jsx)("section",{className:"py-16 bg-white",children:(0,s.jsxs)("div",{className:"container px-4 mx-auto",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-center mb-12",children:"How We Help You Stay Safe"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((t,r)=>(0,s.jsxs)("div",{className:"bg-white border border-gray-100 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsx)("div",{className:"mb-4",children:t.icon}),(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:t.title}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:t.description}),(0,s.jsx)(a.$,{variant:"link",className:"p-0",onClick:()=>e.push(t.path),children:"Learn More"})]},r))})]})}),!t&&(0,s.jsx)("section",{className:"py-16 bg-safety-blue/10",children:(0,s.jsx)("div",{className:"container px-4 mx-auto text-center",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Join Our Safety Network Today"}),(0,s.jsx)("p",{className:"text-lg text-gray-700 mb-8",children:"Create your account to unlock all features and build your personal safety network."}),(0,s.jsxs)(a.$,{size:"lg",onClick:()=>e.push("/register"),children:[(0,s.jsx)(u.A,{className:"mr-2 h-5 w-5"}),"Create Free Account"]})]})})})]})}},5525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(2596),a=r(9688);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:l="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:c?24*Number(i)/Number(a):i,className:o("lucide",l),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:c,...l}=r;return(0,s.createElement)(i,{ref:n,iconNode:t,className:o("lucide-".concat(a(e)),c),...l})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,753,441,684,358],()=>t(3162)),_N_E=e.O()}]);